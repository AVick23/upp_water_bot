# ๐ง WaterBot - Telegram Bot ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะฒะพะดั

ะขะตะปะตะณัะฐะผ-ะฑะพั ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะตะถะตะดะฝะตะฒะฝะพะณะพ ะฟะพััะตะฑะปะตะฝะธั ะฒะพะดั ั ะดะธะทะฐะนะฝะพะผ ะฒ ััะธะปะต Apple.

## ะัะพะฑะตะฝะฝะพััะธ

- โ ะะตะณะธัััะฐัะธั ั ัะฐััััะพะผ ะธะฝะดะธะฒะธะดัะฐะปัะฝะพะน ะฝะพัะผั ะฒะพะดั
- โ ะฃััั ัะฐะทะฝัั ัะธะฟะพะฒ ะฝะฐะฟะธัะบะพะฒ (ะฒะพะดะฐ, ัะฐะน, ะบะพัะต, ัะพะบ, ะณะฐะทะธัะพะฒะบะฐ)
- โ ะกะธััะตะผะฐ ะดะพััะธะถะตะฝะธะน ะธ ะณะตะนะผะธัะธะบะฐัะธะธ
- โ ะกะตัะธะธ ะดะฝะตะน (streaks) ะดะปั ะผะพัะธะฒะฐัะธะธ
- โ ะฃะผะฝัะต ัะฒะตะดะพะผะปะตะฝะธั
- โ ะกัะฐัะธััะธะบะฐ ะทะฐ ะดะตะฝั/ะฝะตะดะตะปั/ะผะตััั/ะณะพะด
- โ ะะตะถะธะผั ะฐะบัะธะฒะฝะพััะธ (ะพะฑััะฝัะน, ััะตะฝะธัะพะฒะบะฐ, ัะพะบัั, ะพัะฟััะบ)
- โ ะัะปััะธัะทััะฝะพััั (ััััะบะธะน/ะฐะฝะณะปะธะนัะบะธะน)
- โ ะญะบัะฟะพัั ะดะฐะฝะฝัั ะฒ CSV/JSON
- โ ะะพะณะพะดะฝะฐั ะบะพััะตะบัะธั ะฝะพัะผั (ััะตะฑัะตััั API ะบะปัั)

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
water_bot/
โโโ config.py      # ะะพะฝัะธะณััะฐัะธั, ะปะพะบะฐะปะธะทะฐัะธั, ะบะปะฐะฒะธะฐัััั
โโโ models.py      # SQLAlchemy ะผะพะดะตะปะธ ะะ
โโโ database.py    # CRUD ะพะฟะตัะฐัะธะธ
โโโ services.py    # ะะธะทะฝะตั-ะปะพะณะธะบะฐ (ัะฐััััั, ะฟะพะณะพะดะฐ, ะดะพััะธะถะตะฝะธั)
โโโ bot.py         # ะะปะฐะฒะฝัะน ัะฐะนะป ั ัะตะฝะดะปะตัะฐะผะธ
โโโ requirements.txt
โโโ README.md
```

## ะฃััะฐะฝะพะฒะบะฐ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต/ัะบะฐัะธะฒะฐะฝะธะต

```bash
cd water_bot
```

### 2. ะกะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ะธะปะธ
venv\Scripts\activate     # Windows
```

### 3. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
pip install -r requirements.txt
```

### 4. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

```bash
# ะะฑัะทะฐัะตะปัะฝะพ
export BOT_TOKEN="ะฒะฐั_ัะพะบะตะฝ_ะพั_BotFather"

# ะะฟัะธะพะฝะฐะปัะฝะพ (ะดะปั ะฟะพะณะพะดะฝะพะน ะบะพััะตะบัะธะธ)
export OPENWEATHER_API_KEY="ะฒะฐั_ะบะปัั_openweathermap"

# ะะฟัะธะพะฝะฐะปัะฝะพ
export DATABASE_URL="sqlite:///waterbot.db"
export DEBUG="false"
```

### 5. ะะฐะฟััะบ

```bash
python bot.py
```

## ะะพะปััะตะฝะธะต ัะพะบะตะฝะฐ ะฑะพัะฐ

1. ะัะบัะพะนัะต [@BotFather](https://t.me/BotFather) ะฒ Telegram
2. ะัะฟัะฐะฒััะต `/newbot`
3. ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ
4. ะกะบะพะฟะธััะนัะต ะฟะพะปััะตะฝะฝัะน ัะพะบะตะฝ

## ะะพะปััะตะฝะธะต API ะบะปััะฐ OpenWeatherMap (ะพะฟัะธะพะฝะฐะปัะฝะพ)

1. ะะฐัะตะณะธัััะธััะนัะตัั ะฝะฐ [openweathermap.org](https://openweathermap.org/)
2. ะกะพะทะดะฐะนัะต ะฑะตัะฟะปะฐัะฝัะน API ะบะปัั
3. ะะพะฑะฐะฒััะต ะฒ ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

## ะะพะผะฐะฝะดั ะฑะพัะฐ

- `/start` - ะะฐัะฐัั ัะฐะฑะพัั / ะะปะฐะฒะฝะพะต ะผะตะฝั

## ะคะพัะผัะปะฐ ัะฐััััะฐ ะฝะพัะผั ะฒะพะดั

```
ะะฐะทะพะฒะฐั ะฝะพัะผะฐ = ะฒะตั (ะบะณ) ร 30 ะผะป ร Kโ(ะฟะพะป) ร Kโ(ะฐะบัะธะฒะฝะพััั) ร Kโ(ะฟะพะณะพะดะฐ)
```

| ะคะฐะบัะพั | ะะฝะฐัะตะฝะธะต | ะะพัััะธัะธะตะฝั |
|--------|----------|-------------|
| ะะพะป | ะัะถัะบะพะน / ะะตะฝัะบะธะน | 1.1 / 1.0 |
| ะะบัะธะฒะฝะพััั | ะะธะทะบะฐั / ะกัะตะดะฝัั / ะััะพะบะฐั | 1.0 / 1.1 / 1.2 |
| ะขะตะผะฟะตัะฐัััะฐ | >20ยฐC (ะบะฐะถะดัะต 5ยฐC) | +5% (ะผะฐะบั. +30%) |

## ะะพัััะธัะธะตะฝัั ะฝะฐะฟะธัะบะพะฒ

| ะะฐะฟะธัะพะบ | ะะพัััะธัะธะตะฝั ะณะธะดัะฐัะฐัะธะธ |
|---------|------------------------|
| ๐ง ะะพะดะฐ | 1.0 |
| ๐ต ะงะฐะน | 0.9 |
| โ ะะพัะต | 0.8 |
| ๐ง ะกะพะบ | 0.7 |
| ๐ฅค ะะฐะทะธัะพะฒะบะฐ | 0.5 |

## ะะพััะธะถะตะฝะธั

### ะกะตัะธะธ ะดะฝะตะน
- ๐ฅ **ะะตะดะตะปั ัะธะปั** - 7 ะดะฝะตะน ะฟะพะดััะด
- ๐ช **ะะตััั ะดะธััะธะฟะปะธะฝั** - 30 ะดะฝะตะน ะฟะพะดััะด
- ๐ **ะะพะดะฝัะน ะผะฐััะตั** - 100 ะดะฝะตะน ะฟะพะดััะด
- ๐ **ะะตะณะตะฝะดะฐ** - 365 ะดะฝะตะน ะฟะพะดััะด

### ะะฑััะผะฝัะต
- ๐ชฃ **ะะตะดัะพ** - 10 ะปะธััะพะฒ
- ๐ **ะะฐััะตะนะฝ** - 100 ะปะธััะพะฒ
- ๐ **ะะทะตัะพ** - 1000 ะปะธััะพะฒ

### ะัะพะฑัะต
- ๐ฆ **ะะฐะฝะฝัั ะฟัะฐัะบะฐ** - ะฒัะฟะธัั ะดะพ 8 ัััะฐ
- ๐ฆธ **ะััะพะดะฝะพะน ะณะตัะพะน** - ะฒัะฟะพะปะฝะธัั ะฝะพัะผั ะฒ ะฒััะพะดะฝะพะน
- ๐ฏ **ะขะพัะฝะพััั** - ะฒัะฟะธัั ัะพะฒะฝะพ ะฝะพัะผั
- ๐ **ะะพะฒะพะณะพะดะฝะธะน ะณะปะพัะพะบ** - ะฒัะฟะธัั 1 ัะฝะฒะฐัั

## ะขะตัะฝะพะปะพะณะธะธ

- Python 3.11+
- python-telegram-bot 20.7 (ะฐัะธะฝััะพะฝะฝัะน)
- SQLAlchemy 2.0
- SQLite
- OpenWeatherMap API

## ะะธัะตะฝะทะธั

MIT License
